<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Админ панель</title>
</head>
<body>

<h2>Админ панель</h2>

<button id="startGame">Старт игры</button>

<h3>Рубрики</h3>
<div id="rubrics"></div>

<p id="status">Ожидание игроков...</p>

<script src="/socket.io/socket.io.js"></script>
<script>
const socket = io();

const rubricsDiv = document.getElementById('rubrics');
const status = document.getElementById('status');

document.getElementById('startGame').onclick = () => {
  socket.emit('start_game');
};

socket.on('game_started', () => {
  status.textContent = 'Игра запущена';
});

socket.on('rubrics_list', (rubrics) => {
  rubricsDiv.innerHTML = '';

  rubrics.forEach(rubric => {
    const btn = document.createElement('button');
    btn.textContent = rubric.title;
    btn.onclick = () => {
      socket.emit('select_rubric', rubric.id);
    };
    rubricsDiv.appendChild(btn);
  });
});

socket.on('rubric_selected', (data) => {
  status.textContent = 'Выбрана рубрика: ' + data.title;
});
</script>

</body>
</html>
