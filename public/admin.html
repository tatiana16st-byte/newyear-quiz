<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Админ панель</title>
  <script src="/socket.io/socket.io.js"></script>
  <style>
    body { font-family: Arial; padding: 20px; }
    button { padding: 10px 15px; margin: 5px; }
    .rubrics { margin-top: 20px; }
  </style>
</head>
<body>

<h1>Админ панель</h1>

<button id="startGame">▶ Старт игры</button>
<p id="status"></p>

<div class="rubrics" id="rubrics"></div>

<script>
  const socket = io();
  const startBtn = document.getElementById("startGame");
  const status = document.getElementById("status");
  const rubricsDiv = document.getElementById("rubrics");

  startBtn.onclick = () => {
    socket.emit("adminStart");
    status.textContent = "Игра запущена. Выберите рубрику";
  };

  socket.on("rubricsList", (rubrics) => {
    rubricsDiv.innerHTML = "";

    rubrics.forEach(r => {
      const btn = document.createElement("button");
      btn.textContent = r.title;
      btn.onclick = () => {
        socket.emit("selectRubric", r.id);
      };
      rubricsDiv.appendChild(btn);
    });
  });
</script>

</body>
</html>
